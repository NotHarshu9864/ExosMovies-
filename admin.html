<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ExosMovies Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white flex items-center justify-center min-h-screen">

<div class="bg-gray-900 p-6 rounded-xl w-full max-w-md border border-gray-800">
  <h1 class="text-xl font-bold text-cyan-400 mb-4 text-center">ExosMovies Admin</h1>

  <input id="title" placeholder="Movie Name" class="w-full mb-2 p-2 bg-gray-800 rounded" />
  <input id="thumbnail" placeholder="Thumbnail URL" class="w-full mb-2 p-2 bg-gray-800 rounded" />
  <input id="video" placeholder="Video URL" class="w-full mb-2 p-2 bg-gray-800 rounded" />

  <select id="type" class="w-full mb-2 p-2 bg-gray-800 rounded">
    <option value="hollywood">Hollywood</option>
    <option value="bollywood">Bollywood</option>
    <option value="south">South</option>
  </select>

  <input id="token" placeholder="Admin Token" class="w-full mb-4 p-2 bg-gray-800 rounded" />

  <button onclick="addMovie()" class="w-full bg-cyan-500 hover:bg-cyan-600 py-2 rounded font-semibold">Add Movie</button>

  <p id="msg" class="mt-3 text-sm text-center"></p>
</div>

<script>
function addMovie() {
  fetch('/api/add-movie', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      title: title.value,
      thumbnail: thumbnail.value,
      video: video.value,
      type: type.value,
      token: token.value
    })
  })
  .then(r => r.json())
  .then(d => {
    msg.innerText = d.success ? 'Movie added successfully!' : d.error;
  })
  .catch(() => msg.innerText = 'Error adding movie');
}
</script>

</body>
</html>