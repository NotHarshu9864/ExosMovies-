<!DOCTYPE html>
<html>
<head>
<title>Movie</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black text-white">

<header class="p-4 bg-black/70 flex items-center">
 <a href="index.html" class="mr-4">←</a>
 <span class="text-blue-400 font-bold">Doanin</span>
</header>

<main class="p-4 max-w-4xl mx-auto" id="movie"></main>

<footer class="text-center text-gray-500 text-sm py-6">
© Doanin
</footer>

<script>
const id=new URLSearchParams(location.search).get('id');

fetch('data/movies/data.json')
.then(r=>r.json())
.then(d=>{
 const m=d.find(x=>x.id===id);
 let buttons='';
 Object.keys(m.qualities).forEach(q=>{
  buttons+=`
   <a href="${m.qualities[q]}" target="_blank"
    class="px-4 py-2 bg-blue-700 rounded">${q}</a>`;
 });
 movie.innerHTML=`
  <img src="${m.poster}" class="rounded w-full max-h-96 object-cover">
  <h1 class="text-2xl font-bold mt-4">${m.title}</h1>
  <p class="text-gray-400 mt-2">${m.description}</p>
  <div class="flex gap-3 mt-6 flex-wrap">${buttons}</div>
 `;
});
</script>

<!-- Security -->
<script>
/* Disable right click */
document.addEventListener('contextmenu', e => e.preventDefault());

/* Disable copy & selection */
['copy','cut','paste'].forEach(ev =>
  document.addEventListener(ev, e => e.preventDefault())
);
document.addEventListener('selectstart', e => e.preventDefault());

/* Disable image drag */
document.addEventListener('dragstart', e => {
  if (e.target.tagName === 'IMG') e.preventDefault();
});

/* DevTools deterrent (not bulletproof) */
setInterval(() => {
  if (window.outerWidth - window.innerWidth > 160 ||
      window.outerHeight - window.innerHeight > 160) {
    document.body.innerHTML =
      "<h1 style='color:white;text-align:center;margin-top:20%'>Access Blocked</h1>";
  }
}, 1000);
</script>

</body>
</html>